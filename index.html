<!DOCTYPE html><html><head><title>Categories tree</title><script src="https://unpkg.com/vue@2.4"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css"><script type="text/x-template" id="item-template"><li v-if="isShown"> <span class="cursor-pointer" v-if="!isEditing" title="Show / hide child categories"> <span class="caret_container cursor-pointer" v-if="isFolder" @click="toggle"> <i v-if="!isOpen" class="bi bi-caret-right-fill"></i> <i v-if="isOpen" class="bi bi-caret-down "></i> </span> <div class="category_button border rounded-lg d-inline-block m-1 p-2" @click="toggle">{{item.name}}</div><span class="actions_container"> <span class="add" @click="$emit('add-item', item); isOpen=true"><i class="bi bi-plus-circle ml-1 mr-1" title="Add new category"></i></span> <span class="edit" @click="isEditing ? isEditing=false : isEditing=true"><i class="bi bi-pencil-square ml-1 mr-1" title="Edit category"></i></span> <span class="delete" @click="isShown=false"><i class="bi bi-trash ml-1 mr-1" title="Delete category and child categories"></i></span> </span> </span> <div v-if="isEditing"> <input v-bind:class="{red_border: item.name.length===0}" class="rounded-lg ml-3 mt-1 mb-1 p-1" type='text' v-model="item.name"/> <span v-if="item.name.length > 0" class="finish_edit_button border border-secondary rounded-lg p-2 cursor-pointer" @click="isEditing=false" title="Finish editing">Finish editing</span> <span class="text-danger" v-if="item.name.length===0">The field is empty!</span> </div><ul v-show="isOpen" v-if="isFolder"> <tree-item class="item" v-for="(child, index) in item.children" :key="index" :item="child" @make-folder="$emit('make-folder', $event)" @add-item="$emit('add-item', $event)" ></tree-item> </ul> </li></script></head><body><ul id="app"><tree-item class="item" :item="treeData" @make-folder="makeFolder" @add-item="addItem"></tree-item></ul><script>Vue.component("tree-item", { template: "#item-template", props: { item: Object }, data: function () { return { isOpen: true, isEditing: false, isShown: true, } }, computed: { isFolder: function () { return this.item.children && this.item.children.length; } }, methods: { toggle: function () { if (this.isFolder) { this.isOpen = !this.isOpen; } }, makeFolder: function () { if (!this.isFolder) { this.$emit("make-folder", this.item); this.isOpen = true; } } } }); var app = new Vue({ el: "#app", data: { treeData: { name: "Category article 4", children: [{ name: "Category article 6", children: [{ name: "Category article 8", children: [{ name: "Category article 5", children: [{ name: "Category article 3", children: [] }] }] }] }] } }, methods: { makeFolder(item) { Vue.set(item, "children", []); this.addItem(item); }, addItem(item) { item.children.push({ name: "new category", children: [] }); }, } });</script><style>#app{font-family:Helvetica Neue,Helvetica,Avenir,Arial,sans-serif}*{user-select:none}ul{list-style-type:none}i:hover{color:#065fd4!important}.cursor-pointer{cursor:pointer}.active-bold:hover{font-weight:700}.category_button,.finish_edit_button,i{transition:all .2s ease-in}.category_button{background-color:#f2f2f2;border-color:#d9d9d9;color:#040404}.category_button:hover{background-color:#065fd3;color:#fff!important}.finish_edit_button:hover{background-color:#33ba88;color:#fff!important;border-color:#33ba88!important}.red_border{border-color:red;outline:0}.actions_container{font-size:15pt}</style></body></html>